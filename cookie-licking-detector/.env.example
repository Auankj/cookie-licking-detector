# Environment Configuration Template
# Copy this file to .env and fill in the actual values

# Application Settings
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-secret-key-here-change-in-production
API_VERSION=v1
APP_NAME=Cookie Licking Detector

# Database Configuration
DATABASE_URL=postgresql://cookie_user:cookie_password@localhost:5432/cookie_detector
DB_ECHO=false

# Redis Configuration
REDIS_URL=redis://localhost:6379/0

# GitHub API Configuration
GITHUB_TOKEN=your-github-token-here
GITHUB_APP_ID=your-github-app-id
GITHUB_APP_PRIVATE_KEY=your-github-app-private-key
GITHUB_WEBHOOK_SECRET=your-webhook-secret
GITHUB_API_BASE_URL=https://api.github.com

# Ecosyste.ms API Configuration (60 req/min, polite pool from MD file)
ECOSYSTE_MS_BASE_URL=https://issues.ecosyste.ms/api/v1
ECOSYSTE_MS_EMAIL=your-email@example.com

# SendGrid Configuration
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Cookie Licking Detector

# Notification Settings
NOTIFICATION_EMAIL_TEMPLATE_DIR=app/templates/emails
NOTIFICATION_RATE_LIMIT=100  # emails per hour
NUDGE_INTERVAL_HOURS=72
AUTO_RELEASE_CHECK_INTERVAL_HOURS=24

# Grace Period Configuration (from MD file requirements)
DEFAULT_GRACE_PERIOD_DAYS=7
DEFAULT_NUDGE_COUNT=2
CLAIM_DETECTION_THRESHOLD=75

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# Rate Limiting
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/2
DEFAULT_RATE_LIMIT=100/hour
GITHUB_RATE_LIMIT_REQUESTS=5000
GITHUB_RATE_LIMIT_WINDOW=3600

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
STRUCTURED_LOGGING=true

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
SENTRY_DSN=your-sentry-dsn-here
HEALTH_CHECK_TIMEOUT=30

# Security Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256
CORS_ORIGINS=["http://localhost:8080"]

# Pagination Settings
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Cache Settings
CACHE_TTL=3600
CACHE_PREFIX=cookie_detector

# File Upload Settings
MAX_UPLOAD_SIZE=10485760  # 10MB
UPLOAD_DIR=uploads/

# Background Task Settings
MAX_RETRIES=3
RETRY_DELAY=60
TASK_TIMEOUT=300

# Development Settings (only for development)
RELOAD=true
WORKERS=1

# Production Settings (only for production)
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
GUNICORN_BIND=0.0.0.0:8000
GUNICORN_KEEPALIVE=2
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=50
