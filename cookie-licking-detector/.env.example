# Environment Configuration Template
# Copy this file to .env and fill in the actual values
# All keys match settings.py exactly - no divergence

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=Cookie-Licking Detector
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production
# Valid values: development, staging, production, test

# ============================================================================
# Security Settings
# ============================================================================
SECRET_KEY=your-secret-key-here-change-in-production-min-32-chars
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30
ALGORITHM=HS256
JWT_ALGORITHM=HS256

# ============================================================================
# Database Settings
# ============================================================================
DATABASE_URL=postgresql://user:pass@localhost:5432/cookie_detector
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DB_ECHO=false

# ============================================================================
# Redis Settings
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================================================
# Celery Settings
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ============================================================================
# GitHub Integration
# ============================================================================
GITHUB_TOKEN=your-github-personal-access-token
GITHUB_APP_ID=your-github-app-id-optional
GITHUB_APP_PRIVATE_KEY_PATH=/path/to/private-key.pem
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# ============================================================================
# Ecosyste.ms API Settings
# ============================================================================
ECOSYSTE_MS_BASE_URL=https://issues.ecosyste.ms/api/v1
ECOSYSTE_MS_EMAIL=your-email@example.com
ECOSYSTE_MS_RATE_LIMIT=60

# ============================================================================
# Notification Settings
# ============================================================================
SENDGRID_API_KEY=your-sendgrid-api-key
FROM_EMAIL=noreply@cookie-detector.com

# ============================================================================
# System Configuration
# ============================================================================
DEFAULT_GRACE_PERIOD_DAYS=7
DEFAULT_NUDGE_COUNT=2
CLAIM_DETECTION_THRESHOLD=75

# ============================================================================
# API Settings
# ============================================================================
API_V1_STR=/api/v1
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# ============================================================================
# CORS Settings
# ============================================================================
ALLOWED_ORIGINS=["http://localhost:8080"]
CORS_ORIGINS=["http://localhost:8080"]
ALLOWED_METHODS=["GET","POST","PUT","DELETE"]
ALLOWED_HEADERS=["*"]

# ============================================================================
# Trusted Host Settings
# ============================================================================
# IMPORTANT: ALLOWED_HOSTS must contain HOSTNAMES ONLY (no scheme, no port)
# ✅ Correct:   ALLOWED_HOSTS=["localhost","127.0.0.1","api.cookie-detector.com"]
# ❌ Incorrect: ALLOWED_HOSTS=["http://localhost:8000","https://api.cookie-detector.com"]
# 
# For CORS origins (which include scheme and port), use CORS_ORIGINS instead
ALLOWED_HOSTS=["localhost","127.0.0.1","api.cookie-detector.com"]

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/cookie-detector/app.log
LOG_MAX_SIZE=100
LOG_BACKUP_COUNT=5
STRUCTURED_LOGGING=true

# ============================================================================
# Monitoring and Health Checks
# ============================================================================
HEALTH_CHECK_TIMEOUT=30
METRICS_ENABLED=true
ENABLE_METRICS=true
SENTRY_DSN=your-sentry-dsn-optional

# ============================================================================
# Performance Settings
# ============================================================================
REQUEST_TIMEOUT=30
MAX_REQUEST_SIZE=16
BACKGROUND_TASK_TIMEOUT=300

# ============================================================================
# Development Settings (for development environment only)
# ============================================================================
# Uncomment for development
# ENVIRONMENT=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# DATABASE_POOL_SIZE=5
# ALLOWED_ORIGINS=["*"]
# API_WORKERS=1

# ============================================================================
# Production Settings (for production environment only)
# ============================================================================
# Recommended production values
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=INFO
# DATABASE_POOL_SIZE=20
# API_WORKERS=4
# ALLOWED_HOSTS=["api.cookie-detector.com","cookie-detector.com"]
