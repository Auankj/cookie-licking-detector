{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Multiprocess Prometheus collector enabled using /Users/void/Desktop/CookiesCop/cookie-licking-detector/app/core/../../prometheus_multiproc", "timestamp": "2025-11-05T16:47:27.876739+00:00", "@timestamp": "2025-11-05 22:17:27,876", "level": "INFO", "logger": "app.core.monitoring", "file": "monitoring.py", "line": 48, "function": "<module>"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>", "timestamp": "2025-11-05T16:47:27.905239+00:00", "@timestamp": "2025-11-05 22:17:27,905", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>", "timestamp": "2025-11-05T16:47:27.905394+00:00", "@timestamp": "2025-11-05 22:17:27,905", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'BytesIO': <class '_io.BytesIO'>", "timestamp": "2025-11-05T16:47:27.905460+00:00", "@timestamp": "2025-11-05 22:17:27,905", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>", "timestamp": "2025-11-05T16:47:27.939251+00:00", "@timestamp": "2025-11-05 22:17:27,939", "level": "DEBUG", "logger": "passlib.registry", "file": "registry.py", "line": 296, "function": "register_crypt_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Starting Cookie Licking Detector API", "timestamp": "2025-11-05T16:47:28.205417+00:00", "@timestamp": "2025-11-05 22:17:28,205", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 45, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Environment: development", "timestamp": "2025-11-05T16:47:28.205554+00:00", "@timestamp": "2025-11-05 22:17:28,205", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 46, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Debug mode: True", "timestamp": "2025-11-05T16:47:28.205620+00:00", "@timestamp": "2025-11-05 22:17:28,205", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 47, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Database tables created", "timestamp": "2025-11-05T16:47:28.239337+00:00", "@timestamp": "2025-11-05 22:17:28,239", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 53, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:58:05.593130+00:00", "@timestamp": "2025-11-05 22:28:05,593", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f56ddc0>", "timestamp": "2025-11-05T16:58:05.654349+00:00", "@timestamp": "2025-11-05 22:28:05,654", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10f52dcf0> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T16:58:05.654750+00:00", "@timestamp": "2025-11-05 22:28:05,654", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f53cf40>", "timestamp": "2025-11-05T16:58:05.736018+00:00", "@timestamp": "2025-11-05 22:28:05,736", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:05.737262+00:00", "@timestamp": "2025-11-05 22:28:05,737", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:58:05.738224+00:00", "@timestamp": "2025-11-05 22:28:05,738", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:05.738579+00:00", "@timestamp": "2025-11-05 22:28:05,738", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:58:05.738899+00:00", "@timestamp": "2025-11-05 22:28:05,738", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:05.739169+00:00", "@timestamp": "2025-11-05 22:28:05,739", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'50'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'10'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 16:58:05 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'EFB8:171051:4C741B:572F85:690B821D')])", "timestamp": "2025-11-05T16:58:05.794215+00:00", "@timestamp": "2025-11-05 22:28:05,794", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:05.796349+00:00", "@timestamp": "2025-11-05 22:28:05,796", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:58:05.796841+00:00", "@timestamp": "2025-11-05 22:28:05,796", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:58:05.797080+00:00", "@timestamp": "2025-11-05 22:28:05,797", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:58:05.797373+00:00", "@timestamp": "2025-11-05 22:28:05,797", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:58:05.797745+00:00", "@timestamp": "2025-11-05 22:28:05,797", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:58:05.798094+00:00", "@timestamp": "2025-11-05 22:28:05,798", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:58:05.804506+00:00", "@timestamp": "2025-11-05 22:28:05,804", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f5a5190>", "timestamp": "2025-11-05T16:58:06.115336+00:00", "@timestamp": "2025-11-05 22:28:06,115", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10f580040> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T16:58:06.116071+00:00", "@timestamp": "2025-11-05 22:28:06,116", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f58b9d0>", "timestamp": "2025-11-05T16:58:06.693509+00:00", "@timestamp": "2025-11-05 22:28:06,693", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:06.694698+00:00", "@timestamp": "2025-11-05 22:28:06,694", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:58:06.695588+00:00", "@timestamp": "2025-11-05 22:28:06,695", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:06.695874+00:00", "@timestamp": "2025-11-05 22:28:06,695", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:58:06.696205+00:00", "@timestamp": "2025-11-05 22:28:06,696", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:06.696412+00:00", "@timestamp": "2025-11-05 22:28:06,696", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 16:58:07 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4999'), (b'x-ratelimit-reset', b'1762362000'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'03f5e575-b0e8-4068-ab0e-c31c6dec2e6c'), (b'x-runtime', b'0.003820'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=BG3mdF5DT%2B9AvqLrNog%2Bd8AuiikcSP8cC3NviJBtexXqG%2BOtriwqpsVVYMFwfJnMy1UuLug0gVPLGIIj0aWZiTOYtwpPOKVtUg%3D%3D\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=nTp%2BH%2BdnRP%2BrRur1opbwUkGnqn%2Bwx8Deg0sGxl9m8W2zKUeOECEim22qrvQLyTo5gNyMSq%2F029i5%2FF6hr%2BuBF3NBswCRMJuPTVHJFc1Tc5NLIUlgXHytZk83wK9dcgBKS%2FXpAn9RP1BJLlIJ1wTbRLgux2F6bJVjgf59S%2F%2Fgtaygs1xPXvPSx%2BG%2BtWFCzPJjjmwztbXci5Xc6Z%2FCLlX0q9%2BXxzKogP%2FUREv9DNcmBKX7dKqUZvQLZNYZHBkW%2FvarDG9Jmar5DzYAQH2rAJmK%2BFL9If3K--rdfdKVWjW48nBGia--IrO%2FKV11VSDbFHrf6tJkWg%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999de4e0eb47678e-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T16:58:07.338270+00:00", "@timestamp": "2025-11-05 22:28:07,338", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:58:07.339975+00:00", "@timestamp": "2025-11-05 22:28:07,339", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:58:07.341548+00:00", "@timestamp": "2025-11-05 22:28:07,341", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:58:07.342132+00:00", "@timestamp": "2025-11-05 22:28:07,342", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:58:07.342813+00:00", "@timestamp": "2025-11-05 22:28:07,342", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:58:07.343930+00:00", "@timestamp": "2025-11-05 22:28:07,343", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:58:07.344332+00:00", "@timestamp": "2025-11-05 22:28:07,344", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:59:25.042046+00:00", "@timestamp": "2025-11-05 22:29:25,042", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f5b7ac0>", "timestamp": "2025-11-05T16:59:25.109980+00:00", "@timestamp": "2025-11-05 22:29:25,109", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10f580200> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T16:59:25.110435+00:00", "@timestamp": "2025-11-05 22:29:25,110", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f5416d0>", "timestamp": "2025-11-05T16:59:25.191828+00:00", "@timestamp": "2025-11-05 22:29:25,191", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:25.192417+00:00", "@timestamp": "2025-11-05 22:29:25,192", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:59:25.192835+00:00", "@timestamp": "2025-11-05 22:29:25,192", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:25.193018+00:00", "@timestamp": "2025-11-05 22:29:25,193", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:59:25.193237+00:00", "@timestamp": "2025-11-05 22:29:25,193", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:25.193387+00:00", "@timestamp": "2025-11-05 22:29:25,193", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'50'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'10'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 16:59:25 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'EFC4:68D1F:4D5483:581426:690B826D')])", "timestamp": "2025-11-05T16:59:25.258181+00:00", "@timestamp": "2025-11-05 22:29:25,258", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:25.259134+00:00", "@timestamp": "2025-11-05 22:29:25,259", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:59:25.259519+00:00", "@timestamp": "2025-11-05 22:29:25,259", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:59:25.259741+00:00", "@timestamp": "2025-11-05 22:29:25,259", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:59:25.259984+00:00", "@timestamp": "2025-11-05 22:29:25,259", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:59:25.260264+00:00", "@timestamp": "2025-11-05 22:29:25,260", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:59:25.260530+00:00", "@timestamp": "2025-11-05 22:29:25,260", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:59:25.266563+00:00", "@timestamp": "2025-11-05 22:29:25,266", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f5a5730>", "timestamp": "2025-11-05T16:59:25.592861+00:00", "@timestamp": "2025-11-05 22:29:25,592", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10f5800b0> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T16:59:25.593403+00:00", "@timestamp": "2025-11-05 22:29:25,593", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10f58b580>", "timestamp": "2025-11-05T16:59:26.281727+00:00", "@timestamp": "2025-11-05 22:29:26,281", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:26.282849+00:00", "@timestamp": "2025-11-05 22:29:26,282", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:59:26.283315+00:00", "@timestamp": "2025-11-05 22:29:26,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:26.283404+00:00", "@timestamp": "2025-11-05 22:29:26,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:59:26.283497+00:00", "@timestamp": "2025-11-05 22:29:26,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:26.283555+00:00", "@timestamp": "2025-11-05 22:29:26,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 16:59:26 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4998'), (b'x-ratelimit-reset', b'1762362000'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'be72c4ff-4baa-4200-a040-b316b175c36c'), (b'x-runtime', b'0.004772'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=UjE5eucCsM%2BnXG6JeILlOQTIdhd0MlcX5cV1AIJE2cO%2BUg3b7TR1Cci%2FUG5tA8uLpM3jmtaCVYV5F%2FssT897jrj6ORgkYQ7drBEl\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=1z%2FY8RtBtQEzvrOIocjcmrwhImTfO9lGaezMFmlSrchhIxDgHdsUdeoQH5doqHQoQgC9kalBDdIs%2BNmCDNjVb8C%2Bft7%2BnUBUMFs0Kv4pvVA%2FGtEY4e4Pz3oXhRc0b9Aa8UxwRu8jEB0q%2BTgD1ghHbiKn4P9I6a31tgXEgZlL2hR%2FCxjHRR154fVC0NaIXBQyybsuaxxaMQ0puT3V3zrmC8aFjWo4%2Br6pMyOUvSyrCacyRkiQS43997AaGp98CJXihrFGkI9En7JBuSHZA5goEoCwU9%2Fy--4Mlk8HkM%2FlFlzs%2Bx--2rpoWuiiuRZvJW1vUoctDA%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999de6d25804a024-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T16:59:27.122920+00:00", "@timestamp": "2025-11-05 22:29:27,122", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:27.124882+00:00", "@timestamp": "2025-11-05 22:29:27,124", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:59:27.946563+00:00", "@timestamp": "2025-11-05 22:29:27,946", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:59:27.947697+00:00", "@timestamp": "2025-11-05 22:29:27,947", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:59:27.948246+00:00", "@timestamp": "2025-11-05 22:29:27,948", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:59:27.948657+00:00", "@timestamp": "2025-11-05 22:29:27,948", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:59:27.949021+00:00", "@timestamp": "2025-11-05 22:29:27,949", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:28.156838+00:00", "@timestamp": "2025-11-05 22:29:28,156", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 104, in list_claims\n    count_result = await db.execute(count_stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:28.202339+00:00", "@timestamp": "2025-11-05 22:29:28,202", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 159, in get_claim_details\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:28.230210+00:00", "@timestamp": "2025-11-05 22:29:28,230", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:59:53.164336+00:00", "@timestamp": "2025-11-05 22:29:53,164", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x114b9a850>", "timestamp": "2025-11-05T16:59:53.206969+00:00", "@timestamp": "2025-11-05 22:29:53,206", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x114b602e0> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T16:59:53.207466+00:00", "@timestamp": "2025-11-05 22:29:53,207", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x114bc2c40>", "timestamp": "2025-11-05T16:59:53.281619+00:00", "@timestamp": "2025-11-05 22:29:53,281", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:53.282673+00:00", "@timestamp": "2025-11-05 22:29:53,282", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:59:53.283326+00:00", "@timestamp": "2025-11-05 22:29:53,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:53.283592+00:00", "@timestamp": "2025-11-05 22:29:53,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:59:53.283818+00:00", "@timestamp": "2025-11-05 22:29:53,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:53.283955+00:00", "@timestamp": "2025-11-05 22:29:53,283", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'50'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'10'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 16:59:53 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'F009:35C57F:4A9765:555748:690B8289')])", "timestamp": "2025-11-05T16:59:53.322199+00:00", "@timestamp": "2025-11-05 22:29:53,322", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:53.323135+00:00", "@timestamp": "2025-11-05 22:29:53,323", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:59:53.323524+00:00", "@timestamp": "2025-11-05 22:29:53,323", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:59:53.323744+00:00", "@timestamp": "2025-11-05 22:29:53,323", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:59:53.324005+00:00", "@timestamp": "2025-11-05 22:29:53,324", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:59:53.324541+00:00", "@timestamp": "2025-11-05 22:29:53,324", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:59:53.324955+00:00", "@timestamp": "2025-11-05 22:29:53,324", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T16:59:53.331576+00:00", "@timestamp": "2025-11-05 22:29:53,331", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x114bc9310>", "timestamp": "2025-11-05T16:59:53.843473+00:00", "@timestamp": "2025-11-05 22:29:53,843", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x114b60580> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T16:59:53.843986+00:00", "@timestamp": "2025-11-05 22:29:53,843", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x114bc9b80>", "timestamp": "2025-11-05T16:59:54.362899+00:00", "@timestamp": "2025-11-05 22:29:54,362", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:54.364288+00:00", "@timestamp": "2025-11-05 22:29:54,364", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T16:59:54.365842+00:00", "@timestamp": "2025-11-05 22:29:54,365", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:54.366433+00:00", "@timestamp": "2025-11-05 22:29:54,366", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T16:59:54.366798+00:00", "@timestamp": "2025-11-05 22:29:54,366", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:54.366996+00:00", "@timestamp": "2025-11-05 22:29:54,366", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 16:59:54 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4997'), (b'x-ratelimit-reset', b'1762362000'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'fb53fac8-b111-4ce9-aa60-53d856066e1e'), (b'x-runtime', b'0.004318'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=5h7zR6pQeFy43fQlmeecI%2B7h7B2eu6Zv1SIYZi2EVA7%2Fz1ePudAZzcZ6MSVhJGw40B0ktEJiH6YzOtDeUbiSC0rqXN5iWse43pK2\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=d0VfUZvQX0VHxXaaWaHyhBD7EKSA3IgCe1orOJxFtZ4fmSPqufVV5ksQEHvsYYyK2XoTZtW3fLnufwEnNiouI0D5PJcCI4mGhyUAWgZbsygwJabSiMB05wo48O61rc7Hf3b6fME%2Ff4niH3iZZh%2FENYfGE1A3IyISu0DEaMOU27Z0oi65xQ9%2FTwfIfslK%2BJ8AF%2BbNWuFX5z0kRYX6QPfJe%2F9hXAqOaibzTmCADm%2F7KTxsJYbQTWqma3duVneDLebLnQW5NZ9MqJ6fiKXS5cqrdtYjxSua--NEbcOyQm52ZEc9gc--PLm%2F4tT3B%2Fc451YTuvbeRg%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999de781ed3ff8c6-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T16:59:54.901285+00:00", "@timestamp": "2025-11-05 22:29:54,901", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T16:59:54.905024+00:00", "@timestamp": "2025-11-05 22:29:54,905", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T16:59:55.658583+00:00", "@timestamp": "2025-11-05 22:29:55,658", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T16:59:55.659145+00:00", "@timestamp": "2025-11-05 22:29:55,659", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T16:59:55.659605+00:00", "@timestamp": "2025-11-05 22:29:55,659", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T16:59:55.660220+00:00", "@timestamp": "2025-11-05 22:29:55,660", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T16:59:55.660666+00:00", "@timestamp": "2025-11-05 22:29:55,660", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:55.724266+00:00", "@timestamp": "2025-11-05 22:29:55,724", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 104, in list_claims\n    count_result = await db.execute(count_stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:55.743379+00:00", "@timestamp": "2025-11-05 22:29:55,743", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 159, in get_claim_details\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T16:59:55.757369+00:00", "@timestamp": "2025-11-05 22:29:55,757", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Shutting down Cookie Licking Detector API", "timestamp": "2025-11-05T17:00:10.125530+00:00", "@timestamp": "2025-11-05 22:30:10,125", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 61, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Multiprocess Prometheus collector enabled using /Users/void/Desktop/CookiesCop/cookie-licking-detector/app/core/../../prometheus_multiproc", "timestamp": "2025-11-05T17:00:12.618909+00:00", "@timestamp": "2025-11-05 22:30:12,618", "level": "INFO", "logger": "app.core.monitoring", "file": "monitoring.py", "line": 48, "function": "<module>"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>", "timestamp": "2025-11-05T17:00:12.647194+00:00", "@timestamp": "2025-11-05 22:30:12,647", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>", "timestamp": "2025-11-05T17:00:12.647349+00:00", "@timestamp": "2025-11-05 22:30:12,647", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'BytesIO': <class '_io.BytesIO'>", "timestamp": "2025-11-05T17:00:12.647415+00:00", "@timestamp": "2025-11-05 22:30:12,647", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>", "timestamp": "2025-11-05T17:00:12.677450+00:00", "@timestamp": "2025-11-05 22:30:12,677", "level": "DEBUG", "logger": "passlib.registry", "file": "registry.py", "line": 296, "function": "register_crypt_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Starting Cookie Licking Detector API", "timestamp": "2025-11-05T17:00:12.931431+00:00", "@timestamp": "2025-11-05 22:30:12,931", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 45, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Environment: development", "timestamp": "2025-11-05T17:00:12.931623+00:00", "@timestamp": "2025-11-05 22:30:12,931", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 46, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Debug mode: True", "timestamp": "2025-11-05T17:00:12.931688+00:00", "@timestamp": "2025-11-05 22:30:12,931", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 47, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Database tables created", "timestamp": "2025-11-05T17:00:12.965521+00:00", "@timestamp": "2025-11-05 22:30:12,965", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 53, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:09:05.339900+00:00", "@timestamp": "2025-11-05 22:39:05,339", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b0b12b0>", "timestamp": "2025-11-05T17:09:05.395717+00:00", "@timestamp": "2025-11-05 22:39:05,395", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10b09cd60> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T17:09:05.396020+00:00", "@timestamp": "2025-11-05 22:39:05,396", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b0d5370>", "timestamp": "2025-11-05T17:09:05.474345+00:00", "@timestamp": "2025-11-05 22:39:05,474", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:05.474984+00:00", "@timestamp": "2025-11-05 22:39:05,474", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:09:05.475368+00:00", "@timestamp": "2025-11-05 22:39:05,475", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:05.475505+00:00", "@timestamp": "2025-11-05 22:39:05,475", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:09:05.475674+00:00", "@timestamp": "2025-11-05 22:39:05,475", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:05.475784+00:00", "@timestamp": "2025-11-05 22:39:05,475", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'49'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'11'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 17:09:05 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'F092:215107:4DEBF9:58EB1D:690B84B1')])", "timestamp": "2025-11-05T17:09:05.554880+00:00", "@timestamp": "2025-11-05 22:39:05,554", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:05.558187+00:00", "@timestamp": "2025-11-05 22:39:05,558", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:09:05.558667+00:00", "@timestamp": "2025-11-05 22:39:05,558", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:09:05.558878+00:00", "@timestamp": "2025-11-05 22:39:05,558", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:09:05.559109+00:00", "@timestamp": "2025-11-05 22:39:05,559", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:09:05.559416+00:00", "@timestamp": "2025-11-05 22:39:05,559", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:09:05.559683+00:00", "@timestamp": "2025-11-05 22:39:05,559", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:09:05.565866+00:00", "@timestamp": "2025-11-05 22:39:05,565", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b11c0d0>", "timestamp": "2025-11-05T17:09:05.848764+00:00", "@timestamp": "2025-11-05 22:39:05,848", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10b0fa040> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T17:09:05.849202+00:00", "@timestamp": "2025-11-05 22:39:05,849", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b107f40>", "timestamp": "2025-11-05T17:09:06.769151+00:00", "@timestamp": "2025-11-05 22:39:06,769", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:06.770554+00:00", "@timestamp": "2025-11-05 22:39:06,770", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:09:06.771520+00:00", "@timestamp": "2025-11-05 22:39:06,771", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:06.771893+00:00", "@timestamp": "2025-11-05 22:39:06,771", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:09:06.772334+00:00", "@timestamp": "2025-11-05 22:39:06,772", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:06.772596+00:00", "@timestamp": "2025-11-05 22:39:06,772", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 17:09:07 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4999'), (b'x-ratelimit-reset', b'1762365600'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'bbe6773d-ed9f-450b-b50b-690d89a2b9d6'), (b'x-runtime', b'0.002345'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=5rhL4QUznMIeLHGCA29ZIfJEJetSaeCpEYLRuGeaIKsWzGx0W10UiEiimAhr%2Bp70gKpMsTarOgjK6OkePAcrGQy7G7si%2F7dF7w%3D%3D\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=ydeIRq1GXdrspw4iv2VvMjuAz8aMJ3wbXi3EpbnwzZwsPYbtXe%2FJr%2Fz7wpBbZzlyXThoBxp5hFntetaKSDXYFiEbV2VN6oSjOxg%2Fy92NrFNqB%2Fc9mXB2VuWCjDgflDHET7qgr2xy%2F9QJg%2BROEg8pjAzuWY8oEBdXWJYr3zhsuQ5Bo64Qr6xbSi1oXZejObFCdOXYUKw1sQmNXMLwuTE7SbssbqAJk0kZCwf1QcfXGwhJ4JM%2B27BuWd89vWOX9mXimfGb%2FTIvABzTX7NfNd1KpcInb1o3--gJbfuJHDiwKFVxk4--c09W2v0jA9IHv3B2gfMepA%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999df4fe8e5655e4-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T17:09:07.387423+00:00", "@timestamp": "2025-11-05 22:39:07,387", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:07.389662+00:00", "@timestamp": "2025-11-05 22:39:07,389", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:09:09.367045+00:00", "@timestamp": "2025-11-05 22:39:09,367", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:09:09.367976+00:00", "@timestamp": "2025-11-05 22:39:09,367", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:09:09.368565+00:00", "@timestamp": "2025-11-05 22:39:09,368", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:09:09.369122+00:00", "@timestamp": "2025-11-05 22:39:09,369", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:09:09.369503+00:00", "@timestamp": "2025-11-05 22:39:09,369", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:09.494783+00:00", "@timestamp": "2025-11-05 22:39:09,494", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 104, in list_claims\n    count_result = await db.execute(count_stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:09.537506+00:00", "@timestamp": "2025-11-05 22:39:09,537", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 159, in get_claim_details\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:09.565801+00:00", "@timestamp": "2025-11-05 22:39:09,565", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:09:20.645611+00:00", "@timestamp": "2025-11-05 22:39:20,645", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b6bbfd0>", "timestamp": "2025-11-05T17:09:20.694563+00:00", "@timestamp": "2025-11-05 22:39:20,694", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10b694350> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T17:09:20.694853+00:00", "@timestamp": "2025-11-05 22:39:20,694", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b6f85e0>", "timestamp": "2025-11-05T17:09:20.772176+00:00", "@timestamp": "2025-11-05 22:39:20,772", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:20.773097+00:00", "@timestamp": "2025-11-05 22:39:20,773", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:09:20.773622+00:00", "@timestamp": "2025-11-05 22:39:20,773", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:20.773798+00:00", "@timestamp": "2025-11-05 22:39:20,773", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:09:20.774015+00:00", "@timestamp": "2025-11-05 22:39:20,774", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:20.774149+00:00", "@timestamp": "2025-11-05 22:39:20,774", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'49'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'11'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 17:09:20 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'F0D1:4DFAB:5063F5:5B6493:690B84C0')])", "timestamp": "2025-11-05T17:09:20.812141+00:00", "@timestamp": "2025-11-05 22:39:20,812", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:20.813253+00:00", "@timestamp": "2025-11-05 22:39:20,813", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:09:20.813663+00:00", "@timestamp": "2025-11-05 22:39:20,813", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:09:20.813889+00:00", "@timestamp": "2025-11-05 22:39:20,813", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:09:20.814143+00:00", "@timestamp": "2025-11-05 22:39:20,814", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:09:20.814455+00:00", "@timestamp": "2025-11-05 22:39:20,814", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:09:20.814790+00:00", "@timestamp": "2025-11-05 22:39:20,814", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:09:20.822053+00:00", "@timestamp": "2025-11-05 22:39:20,822", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b6fad00>", "timestamp": "2025-11-05T17:09:21.390679+00:00", "@timestamp": "2025-11-05 22:39:21,390", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10b6944a0> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T17:09:21.391464+00:00", "@timestamp": "2025-11-05 22:39:21,391", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b6fabb0>", "timestamp": "2025-11-05T17:09:22.049461+00:00", "@timestamp": "2025-11-05 22:39:22,049", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:22.050712+00:00", "@timestamp": "2025-11-05 22:39:22,050", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:09:22.051499+00:00", "@timestamp": "2025-11-05 22:39:22,051", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:22.051890+00:00", "@timestamp": "2025-11-05 22:39:22,051", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:09:22.052220+00:00", "@timestamp": "2025-11-05 22:39:22,052", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:22.052562+00:00", "@timestamp": "2025-11-05 22:39:22,052", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 17:09:22 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4998'), (b'x-ratelimit-reset', b'1762365600'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'722a9343-3123-4e9a-86e9-736cdcd9c554'), (b'x-runtime', b'0.002197'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=DP1fxdYkb5mBhmdKVkwVof9OzmXf0UpoGovMv%2F3s3QRqPGjvKkDSqTJZqhoHGRPFWNLLcGrt%2BC7p2rLmt02YaSBHu4sNj0rw5FFX\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=hEAXd8Wx2XPFZXa8EADvoiVE5ktTCqs9ZwaWScE4nt9r8nkUcnYh%2BMTFLW52mJqTb5%2Bj4Cj%2FTtlMom9pgkvMI%2BPnvZKMPF6dI%2BVC3YR%2F5vlmlql8Oh7tIvXSAqYpudCUOpN%2BGP7H2BsTLleeaiN3AfNsxGg%2FNYt%2BWdOgjGBqhuhoO22PerofkuXKAgaPbdW3%2FUuXln67yISqTgezGZNLQ%2BjXJzaozzX3InUCT%2FESxxuYzKSMwpl1LzFXgUf9SZHGAvBesXDuGt4wklQopaZ5cQ7rqA7g--I9LYt21ZUtqmdHP8--lgj7yQX%2BCUORnyqpwQa%2FZA%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999df55e1ab5ce7e-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T17:09:22.746365+00:00", "@timestamp": "2025-11-05 22:39:22,746", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:09:22.748627+00:00", "@timestamp": "2025-11-05 22:39:22,748", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:09:23.881778+00:00", "@timestamp": "2025-11-05 22:39:23,881", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:09:23.882389+00:00", "@timestamp": "2025-11-05 22:39:23,882", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:09:23.882751+00:00", "@timestamp": "2025-11-05 22:39:23,882", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:09:23.883194+00:00", "@timestamp": "2025-11-05 22:39:23,883", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:09:23.883561+00:00", "@timestamp": "2025-11-05 22:39:23,883", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:23.941636+00:00", "@timestamp": "2025-11-05 22:39:23,941", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 104, in list_claims\n    count_result = await db.execute(count_stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:23.958435+00:00", "@timestamp": "2025-11-05 22:39:23,958", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 159, in get_claim_details\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:09:23.972571+00:00", "@timestamp": "2025-11-05 22:39:23,972", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Shutting down Cookie Licking Detector API", "timestamp": "2025-11-05T17:09:42.969218+00:00", "@timestamp": "2025-11-05 22:39:42,969", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 61, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Multiprocess Prometheus collector enabled using /Users/void/Desktop/CookiesCop/cookie-licking-detector/app/core/../../prometheus_multiproc", "timestamp": "2025-11-05T17:09:43.628880+00:00", "@timestamp": "2025-11-05 22:39:43,628", "level": "INFO", "logger": "app.core.monitoring", "file": "monitoring.py", "line": 48, "function": "<module>"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>", "timestamp": "2025-11-05T17:09:43.663941+00:00", "@timestamp": "2025-11-05 22:39:43,663", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>", "timestamp": "2025-11-05T17:09:43.664106+00:00", "@timestamp": "2025-11-05 22:39:43,664", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'BytesIO': <class '_io.BytesIO'>", "timestamp": "2025-11-05T17:09:43.664174+00:00", "@timestamp": "2025-11-05 22:39:43,664", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>", "timestamp": "2025-11-05T17:09:43.694121+00:00", "@timestamp": "2025-11-05 22:39:43,694", "level": "DEBUG", "logger": "passlib.registry", "file": "registry.py", "line": 296, "function": "register_crypt_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Starting Cookie Licking Detector API", "timestamp": "2025-11-05T17:09:43.946716+00:00", "@timestamp": "2025-11-05 22:39:43,946", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 45, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Environment: development", "timestamp": "2025-11-05T17:09:43.946848+00:00", "@timestamp": "2025-11-05 22:39:43,946", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 46, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Debug mode: True", "timestamp": "2025-11-05T17:09:43.946914+00:00", "@timestamp": "2025-11-05 22:39:43,946", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 47, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Database tables created", "timestamp": "2025-11-05T17:09:43.979312+00:00", "@timestamp": "2025-11-05 22:39:43,979", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 53, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Shutting down Cookie Licking Detector API", "timestamp": "2025-11-05T17:09:55.090535+00:00", "@timestamp": "2025-11-05 22:39:55,090", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 61, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Multiprocess Prometheus collector enabled using /Users/void/Desktop/CookiesCop/cookie-licking-detector/app/core/../../prometheus_multiproc", "timestamp": "2025-11-05T17:09:55.749559+00:00", "@timestamp": "2025-11-05 22:39:55,749", "level": "INFO", "logger": "app.core.monitoring", "file": "monitoring.py", "line": 48, "function": "<module>"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>", "timestamp": "2025-11-05T17:09:55.777184+00:00", "@timestamp": "2025-11-05 22:39:55,777", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>", "timestamp": "2025-11-05T17:09:55.777341+00:00", "@timestamp": "2025-11-05 22:39:55,777", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'BytesIO': <class '_io.BytesIO'>", "timestamp": "2025-11-05T17:09:55.777410+00:00", "@timestamp": "2025-11-05 22:39:55,777", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>", "timestamp": "2025-11-05T17:09:55.813150+00:00", "@timestamp": "2025-11-05 22:39:55,813", "level": "DEBUG", "logger": "passlib.registry", "file": "registry.py", "line": 296, "function": "register_crypt_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Starting Cookie Licking Detector API", "timestamp": "2025-11-05T17:09:56.057180+00:00", "@timestamp": "2025-11-05 22:39:56,057", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 45, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Environment: development", "timestamp": "2025-11-05T17:09:56.057305+00:00", "@timestamp": "2025-11-05 22:39:56,057", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 46, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Debug mode: True", "timestamp": "2025-11-05T17:09:56.057367+00:00", "@timestamp": "2025-11-05 22:39:56,057", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 47, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Database tables created", "timestamp": "2025-11-05T17:09:56.085286+00:00", "@timestamp": "2025-11-05 22:39:56,085", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 53, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:16:22.240167+00:00", "@timestamp": "2025-11-05 22:46:22,240", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc37ee0>", "timestamp": "2025-11-05T17:16:22.297214+00:00", "@timestamp": "2025-11-05 22:46:22,297", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10fbfdcf0> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T17:16:22.297430+00:00", "@timestamp": "2025-11-05 22:46:22,297", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc0a940>", "timestamp": "2025-11-05T17:16:22.417399+00:00", "@timestamp": "2025-11-05 22:46:22,417", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:22.417869+00:00", "@timestamp": "2025-11-05 22:46:22,417", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:16:22.418174+00:00", "@timestamp": "2025-11-05 22:46:22,418", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:22.418272+00:00", "@timestamp": "2025-11-05 22:46:22,418", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:16:22.418383+00:00", "@timestamp": "2025-11-05 22:46:22,418", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:22.418464+00:00", "@timestamp": "2025-11-05 22:46:22,418", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'44'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'16'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 17:16:22 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'F189:1EBB3:531128:5E3BF7:690B8666')])", "timestamp": "2025-11-05T17:16:22.459317+00:00", "@timestamp": "2025-11-05 22:46:22,459", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:22.460156+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:16:22.460324+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:16:22.460425+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:16:22.460542+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:16:22.460762+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:16:22.460907+00:00", "@timestamp": "2025-11-05 22:46:22,460", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:16:22.463729+00:00", "@timestamp": "2025-11-05 22:46:22,463", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc5b460>", "timestamp": "2025-11-05T17:16:23.054387+00:00", "@timestamp": "2025-11-05 22:46:23,054", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10fc50040> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T17:16:23.054947+00:00", "@timestamp": "2025-11-05 22:46:23,054", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc5bfd0>", "timestamp": "2025-11-05T17:16:24.908144+00:00", "@timestamp": "2025-11-05 22:46:24,908", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:24.909354+00:00", "@timestamp": "2025-11-05 22:46:24,909", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:16:24.910312+00:00", "@timestamp": "2025-11-05 22:46:24,910", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:24.910568+00:00", "@timestamp": "2025-11-05 22:46:24,910", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:16:24.910863+00:00", "@timestamp": "2025-11-05 22:46:24,910", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:24.911057+00:00", "@timestamp": "2025-11-05 22:46:24,911", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 17:16:25 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4997'), (b'x-ratelimit-reset', b'1762365600'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'c3587309-4555-4afa-a91e-6e9e21e8b2fe'), (b'x-runtime', b'0.002692'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=6MzlsRxH6Z0PZ5S5PvkAYKZGUMVyPjR6yPhsRTCQBK5j5qavJu8zYUSCY5brU8vwG%2BrDlj0TVqykAd7NHdd7jFnx4NupH27wMw2J\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=%2FDHyWdA776ULu4MoT5qP2gtyxT6bD65hPTqdhFZG8SgGaRamyb6TbkMA1K2TQ%2BhXq7cbaC6urznnB1c75W8qWCL42bUxssRpAssFp%2BwWdAD1dxQ0zbe2BDvAyrllaQiWYJ0K5VSu43fWvWH0VmTc3q7g8rUNVBxApIjwn%2FNh0iqE8qdnAKD8FMeu8FoFnYSzcL3UOgtbKOHJfEFeiQldeUB%2FLFujNJe8wPcbrfQW04gBN7vB4eG8k%2FyDps5UhXVZKvlRca17o%2B7RLAA8kX02lrBili9e--ri4HvCBaB8WzaZ05--8fg1F%2FXCCU%2Bd8%2B6unXESQw%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999dffb0bcdbfcde-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T17:16:25.949714+00:00", "@timestamp": "2025-11-05 22:46:25,949", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:16:25.951646+00:00", "@timestamp": "2025-11-05 22:46:25,951", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:16:25.953098+00:00", "@timestamp": "2025-11-05 22:46:25,953", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:16:25.953462+00:00", "@timestamp": "2025-11-05 22:46:25,953", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:16:25.953785+00:00", "@timestamp": "2025-11-05 22:46:25,953", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:16:25.954631+00:00", "@timestamp": "2025-11-05 22:46:25,954", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:16:25.955033+00:00", "@timestamp": "2025-11-05 22:46:25,955", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='api.github.com' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:18:19.960036+00:00", "@timestamp": "2025-11-05 22:48:19,960", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc10160>", "timestamp": "2025-11-05T17:18:20.028606+00:00", "@timestamp": "2025-11-05 22:48:20,028", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10fc50200> server_hostname='api.github.com' timeout=30", "timestamp": "2025-11-05T17:18:20.028785+00:00", "@timestamp": "2025-11-05 22:48:20,028", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc88b20>", "timestamp": "2025-11-05T17:18:20.103194+00:00", "@timestamp": "2025-11-05 22:48:20,103", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:20.103555+00:00", "@timestamp": "2025-11-05 22:48:20,103", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:18:20.103804+00:00", "@timestamp": "2025-11-05 22:48:20,103", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:20.103882+00:00", "@timestamp": "2025-11-05 22:48:20,103", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:18:20.103974+00:00", "@timestamp": "2025-11-05 22:48:20,103", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:20.104037+00:00", "@timestamp": "2025-11-05 22:48:20,104", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset'), (b'Cache-Control', b'no-cache'), (b'Content-Security-Policy', b\"default-src 'none'\"), (b'Content-Type', b'application/json; charset=utf-8'), (b'Referrer-Policy', b'origin-when-cross-origin, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-GitHub-Media-Type', b'github.v3; format=json'), (b'X-RateLimit-Limit', b'60'), (b'X-RateLimit-Remaining', b'42'), (b'X-RateLimit-Reset', b'1762364465'), (b'X-RateLimit-Resource', b'core'), (b'X-RateLimit-Used', b'18'), (b'X-XSS-Protection', b'1; mode=block'), (b'Date', b'Wed, 05 Nov 2025 17:18:20 GMT'), (b'Content-Length', b'563'), (b'X-GitHub-Request-Id', b'F1A2:14382A:4D9F73:58D3D7:690B86DC')])", "timestamp": "2025-11-05T17:18:20.176640+00:00", "@timestamp": "2025-11-05 22:48:20,176", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:20.177048+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:18:20.177218+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:18:20.177311+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:18:20.177425+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:18:20.177561+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:18:20.177690+00:00", "@timestamp": "2025-11-05 22:48:20,177", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.started host='ecosyste.ms' port=443 local_address=None timeout=30 socket_options=None", "timestamp": "2025-11-05T17:18:20.180624+00:00", "@timestamp": "2025-11-05 22:48:20,180", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc7a8b0>", "timestamp": "2025-11-05T17:18:20.724758+00:00", "@timestamp": "2025-11-05 22:48:20,724", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10fc500b0> server_hostname='ecosyste.ms' timeout=30", "timestamp": "2025-11-05T17:18:20.725401+00:00", "@timestamp": "2025-11-05 22:48:20,725", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10fc75a30>", "timestamp": "2025-11-05T17:18:23.057290+00:00", "@timestamp": "2025-11-05 22:48:23,057", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:23.058411+00:00", "@timestamp": "2025-11-05 22:48:23,058", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_headers.complete", "timestamp": "2025-11-05T17:18:23.059291+00:00", "@timestamp": "2025-11-05 22:48:23,059", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:23.059759+00:00", "@timestamp": "2025-11-05 22:48:23,059", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "send_request_body.complete", "timestamp": "2025-11-05T17:18:23.060116+00:00", "@timestamp": "2025-11-05 22:48:23,060", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:23.060336+00:00", "@timestamp": "2025-11-05 22:48:23,060", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 05 Nov 2025 17:18:23 GMT'), (b'Content-Type', b'text/html; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Nel', b'{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}'), (b'x-ratelimit-limit', b'5000'), (b'x-ratelimit-remaining', b'4996'), (b'x-ratelimit-reset', b'1762365600'), (b'x-ratelimit-tier', b'anonymous'), (b'Vary', b'Accept-Encoding'), (b'vary', b'Accept'), (b'x-frame-options', b'sameorigin'), (b'x-xss-protection', b'0'), (b'x-content-type-options', b'nosniff'), (b'x-download-options', b'noopen'), (b'x-permitted-cross-domain-policies', b'none'), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'link', b'</assets/application-b8683bbafc295e52aa69356ef5c9cb2e03ea39a976bbba3b2e557dd71f880795.css>; rel=preload; as=style; nopush,</assets/application-1baacf059163eff6bafcd6996d67116d7b6137d2b10c3f311c64fa636cd67259.js>; rel=preload; as=script; nopush'), (b'Speculation-Rules', b'\"/cdn-cgi/speculation\"'), (b'cache-control', b'max-age=0, private, must-revalidate'), (b'x-request-id', b'016d77dc-3de7-4c3d-95da-94e4058fe7ed'), (b'x-runtime', b'0.003459'), (b'strict-transport-security', b'max-age=631138519'), (b'content-security-policy', b\"default-src 'self'; connect-src 'self' *.ecosyste.ms api.stripe.com; font-src 'self' fonts.gstatic.com; frame-src 'self' js.stripe.com hooks.stripe.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com js.stripe.com; style-src 'self' 'unsafe-inline' fonts.googleapis.com\"), (b'Report-To', b'{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=V3oGcXXVCio1Gqz2D24TeKHQdPbCOOgfercc6KnFzojwWLDqgtzIwhWuZkuCgnkjV2KtEntWdDnzzRFyx1txM%2FuKLUgn8pKoey1%2F\"}]}'), (b'Server', b'cloudflare'), (b'Apisix-Cache-Status', b'MISS'), (b'cf-cache-status', b'DYNAMIC'), (b'Content-Encoding', b'br'), (b'set-cookie', b'_home_session=VH%2BavcaBvksRbjrLbQMKpCTnWIfHruOLDAuZojqrpwj%2FhgJc9y3ULCPIV6mE75CfPWnB5c0ODUuK%2Fz3SxClzqOtkIN2YZ%2BwH1XJGsgBUp7K2Dhn24J8ZJplyC%2FzL%2BP0MkZROSm5Mr%2F01nVOuHD2Rx%2BaQKnQMxaFVtXja5EFAjugLkl6NaKvFfdErwhsTmHxAAwLdxl0BCGHBOb2CCmrhA%2B4oPQY%2BaSVnY0Q1QvV3edGm43WLtK4cOmgN4yq2Ry8hT9dLhTy%2FCRrab7f52WDjrsuRCIzp--ufEsD5RIjmQCDz1i--g%2F9WfVq3rm8w6xam%2BIeZKQ%3D%3D; HttpOnly; SameSite=Lax; Path=/'), (b'CF-RAY', b'999e02932a387e2e-SIN'), (b'alt-svc', b'h3=\":443\"; ma=86400')])", "timestamp": "2025-11-05T17:18:23.924767+00:00", "@timestamp": "2025-11-05 22:48:23,924", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.started request=<Request [b'GET']>", "timestamp": "2025-11-05T17:18:23.926732+00:00", "@timestamp": "2025-11-05 22:48:23,926", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "receive_response_body.complete", "timestamp": "2025-11-05T17:18:25.216668+00:00", "@timestamp": "2025-11-05 22:48:25,216", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.started", "timestamp": "2025-11-05T17:18:25.217645+00:00", "@timestamp": "2025-11-05 22:48:25,217", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "response_closed.complete", "timestamp": "2025-11-05T17:18:25.218070+00:00", "@timestamp": "2025-11-05 22:48:25,218", "level": "DEBUG", "logger": "httpcore.http11", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.started", "timestamp": "2025-11-05T17:18:25.218524+00:00", "@timestamp": "2025-11-05 22:48:25,218", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "close.complete", "timestamp": "2025-11-05T17:18:25.218863+00:00", "@timestamp": "2025-11-05 22:48:25,218", "level": "DEBUG", "logger": "httpcore.connection", "file": "_trace.py", "line": 87, "function": "atrace"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:18:25.341393+00:00", "@timestamp": "2025-11-05 22:48:25,341", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 104, in list_claims\n    count_result = await db.execute(count_stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT count(claims.id) AS count_1 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:18:25.386116+00:00", "@timestamp": "2025-11-05 22:48:25,386", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/claim_routes.py\", line 159, in get_claim_details\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table claims\n[SQL: SELECT claims.id, claims.issue_id, claims.repository_id, claims.user_id, claims.github_user_id, claims.github_username, claims.claim_comment_id, claims.claim_text, claims.claim_timestamp, claims.status, claims.first_nudge_sent_at, claims.last_activity_timestamp, claims.auto_release_timestamp, claims.release_reason, claims.confidence_score, claims.context_metadata, claims.created_at, claims.updated_at, issues.id AS id_1, issues.repository_id AS repository_id_1, issues.github_repo_id, issues.github_issue_id, issues.github_issue_number, issues.title, issues.description, issues.status AS status_1, issues.created_at AS created_at_1, issues.updated_at AS updated_at_1, issues.github_data, repositories.id AS id_2, repositories.github_repo_id AS github_repo_id_1, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at AS created_at_2, repositories.updated_at AS updated_at_2 \nFROM claims JOIN issues ON claims.issue_id = issues.id JOIN repositories ON issues.repository_id = repositories.id \nWHERE claims.id = $1::INTEGER]\n[parameters: (1,)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:18:25.413844+00:00", "@timestamp": "2025-11-05 22:48:25,413", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Internal server error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "exc_info": "Traceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 557, in _prepare_and_execute\n    self._rows = await prepared_stmt.fetch(*parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 176, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 241, in __bind_execute\n    data, status, _ = await self.__do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/asyncpg/prepared_stmt.py\", line 230, in __do_execute\n    return await executor(protocol)\n  File \"asyncpg/protocol/protocol.pyx\", line 207, in bind_execute\nasyncpg.exceptions.InsufficientPrivilegeError: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 173, in metrics_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/main.py\", line 164, in security_headers_middleware\n    response = await call_next(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File \"/Users/void/Desktop/CookiesCop/cookie-licking-detector/app/api/repository_routes.py\", line 146, in list_repositories\n    result = await db.execute(stmt)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/ext/asyncio/session.py\", line 455, in execute\n    result = await greenlet_spawn(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 591, in execute\n    self._adapt_connection.await_(\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 125, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 185, in greenlet_spawn\n    value = await result\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 569, in _prepare_and_execute\n    self._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 520, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n  File \"/Users/void/Library/Python/3.9/lib/python/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 808, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table repositories\n[SQL: SELECT repositories.id, repositories.github_repo_id, repositories.owner_id, repositories.owner_name, repositories.name, repositories.full_name, repositories.url, repositories.is_monitored, repositories.grace_period_days, repositories.nudge_count, repositories.notification_settings, repositories.claim_detection_threshold, repositories.created_at, repositories.updated_at \nFROM repositories \n LIMIT $1::INTEGER OFFSET $2::INTEGER]\n[parameters: (100, 0)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "timestamp": "2025-11-05T17:19:20.628592+00:00", "@timestamp": "2025-11-05 22:49:20,628", "level": "ERROR", "logger": "app.main", "file": "main.py", "line": 591, "function": "internal_error_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Multiprocess Prometheus collector enabled using /Users/void/Desktop/CookiesCop/cookie-licking-detector/app/core/../../prometheus_multiproc", "timestamp": "2025-11-05T17:19:47.970710+00:00", "@timestamp": "2025-11-05 22:49:47,970", "level": "INFO", "logger": "app.core.monitoring", "file": "monitoring.py", "line": 48, "function": "<module>"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>", "timestamp": "2025-11-05T17:19:48.002246+00:00", "@timestamp": "2025-11-05 22:49:48,002", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>", "timestamp": "2025-11-05T17:19:48.002432+00:00", "@timestamp": "2025-11-05 22:49:48,002", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "loaded lazy attr 'BytesIO': <class '_io.BytesIO'>", "timestamp": "2025-11-05T17:19:48.002506+00:00", "@timestamp": "2025-11-05 22:49:48,002", "level": "DEBUG", "logger": "passlib.utils.compat", "file": "__init__.py", "line": 449, "function": "__getattr__"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>", "timestamp": "2025-11-05T17:19:48.040519+00:00", "@timestamp": "2025-11-05 22:49:48,040", "level": "DEBUG", "logger": "passlib.registry", "file": "registry.py", "line": 296, "function": "register_crypt_handler"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Starting Cookie Licking Detector API", "timestamp": "2025-11-05T17:19:48.305550+00:00", "@timestamp": "2025-11-05 22:49:48,305", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 45, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Environment: development", "timestamp": "2025-11-05T17:19:48.305678+00:00", "@timestamp": "2025-11-05 22:49:48,305", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 46, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Debug mode: True", "timestamp": "2025-11-05T17:19:48.305740+00:00", "@timestamp": "2025-11-05 22:49:48,305", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 47, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Database tables created", "timestamp": "2025-11-05T17:19:48.345032+00:00", "@timestamp": "2025-11-05 22:49:48,345", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 53, "function": "lifespan"}
{"hostname": "unknown", "service": "cookie-licking-detector", "environment": "development", "message": "Shutting down Cookie Licking Detector API", "timestamp": "2025-11-05T17:19:48.345615+00:00", "@timestamp": "2025-11-05 22:49:48,345", "level": "INFO", "logger": "app.main", "file": "main.py", "line": 61, "function": "lifespan"}
